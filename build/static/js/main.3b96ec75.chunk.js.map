{"version":3,"sources":["components/Add.jsx","components/Login.jsx","components/Show.jsx","components/Main.jsx","components/Profile.jsx","components/Register.jsx","App.js","reportWebVitals.js","index.js"],"names":["Add","history","useHistory","useEffect","localStorage","role","push","Login","useState","username","setUsername","password","setPassword","login","a","fetch","method","headers","body","JSON","stringify","credentials","res","json","data","console","log","err","alert","msg","type","placeholder","onChange","e","target","value","onClick","to","Show","show","buy","id","className","name","artist","price","location","date","disabled","Main","showsArr","setShowsArr","then","logout","removeItem","length","map","Profile","tickets","setTickets","updateCounter","setUpdateCounter","t","Register","register","App","path","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3b96ec75.chunk.js","sourcesContent":["import React, { useEffect } from 'react'\r\nimport { useHistory } from 'react-router'\r\n\r\nexport default function Add() {\r\n    const history = useHistory()\r\n    \r\n    useEffect(()=>{\r\n        if (localStorage.role != \"admin\") {\r\n            history.push('/login')\r\n        }\r\n    },[])\r\n    return (\r\n        <div>\r\n            <h1>only admin can visit this page</h1>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState,useEffect } from 'react'\r\nimport { NavLink, useHistory } from 'react-router-dom'\r\n\r\nexport default function Login() {\r\n    const [username, setUsername] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n\r\n    const history = useHistory()\r\n\r\n    useEffect(()=>{\r\n        if (localStorage.role) {\r\n            history.push('/')\r\n        }\r\n    },[])\r\n    \r\n    const login = async () => {\r\n        \r\n        // fetch().then(res=>res.json()).then(data=>clg(data))\r\n        const res = await fetch(\"http://localhost:1000/users/login\", {\r\n            method: \"post\",\r\n            headers: { \"content-type\": \"application/json\" },\r\n            body: JSON.stringify({ username, password }),\r\n            credentials: \"include\"\r\n        })\r\n        const data = await res.json()\r\n        console.log(data)\r\n        if (!data.err) {\r\n            localStorage.username = data.username\r\n            localStorage.role = data.role\r\n            history.push(\"/\")\r\n        } else {\r\n            alert(data.msg)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <input type=\"text\" placeholder=\"user name\" onChange={e => setUsername(e.target.value)} />\r\n            <input type=\"password\" placeholder=\"password\" onChange={e => setPassword(e.target.value)} />\r\n            <button onClick={login}>Login</button>\r\n            <NavLink to=\"/register\">Don't have an account yet?</NavLink>\r\n            <NavLink to=\"/\">Or continue as a guest</NavLink>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useHistory } from 'react-router'\r\n\r\n\r\nexport default function Show({ show }) {\r\n\r\n    const history = useHistory()\r\n\r\n    const buy = async () => {\r\n       \r\n        const res = await fetch(\"http://localhost:1000/shows/buy/\"+show.id, {\r\n            method: \"post\",\r\n            credentials: \"include\"\r\n        })\r\n        \r\n        const data = await res.json()\r\n        \r\n        if(data.msg){\r\n          history.push('/profile')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"show\">\r\n            <h1>{show.name}</h1>\r\n            <h2>{show.artist}</h2>\r\n            <h2>${show.price} only!</h2>\r\n            <h2>@{show.location}</h2>\r\n            <h2>{show.date}</h2>\r\n            {\r\n            localStorage.role==\"admin\" ?\r\n             null : <button disabled={localStorage.role!=\"user\"} onClick={buy}>\r\n                 {localStorage.role==\"user\" ? \"Buy the Ticket\" : \"Please login to buy\"}\r\n                 </button>\r\n             }\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport Show from './Show'\r\nimport { NavLink, useHistory } from 'react-router-dom'\r\n\r\n\r\nexport default function Main() {\r\n    const [showsArr, setShowsArr] = useState([])\r\n\r\n    const history = useHistory()\r\n\r\n    useEffect(()=>{\r\n        fetch(\"http://localhost:1000/shows\")\r\n            .then(res=>res.json())\r\n            .then(data=>setShowsArr(data))\r\n    }, [])\r\n\r\n    const logout = async () => {\r\n        const res = await fetch('http://localhost:1000/users/logout',{\r\n            method:\"delete\",\r\n            credentials:\"include\"\r\n        })\r\n        const data = await res.json()\r\n        if(data.msg){\r\n            localStorage.removeItem(\"role\")\r\n            localStorage.removeItem(\"username\")\r\n            history.push('/login')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Hello {localStorage.role  ? localStorage.username : \"guest\" }</h1>\r\n            <ul>\r\n                {localStorage.role ? null : <div> \r\n                    <li>\r\n                        <NavLink to=\"/login\">Login</NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to=\"/register\">Register</NavLink>\r\n                    </li>\r\n                 </div>  }\r\n               {localStorage.role == \"user\" &&  <li>\r\n                    <NavLink to=\"/profile\">Profile</NavLink>\r\n                </li> }\r\n               {localStorage.role == \"admin\" &&  <li>\r\n                    <NavLink to=\"/add\">Add New Show</NavLink>\r\n                </li> }\r\n             \r\n                {localStorage.role && <button onClick={logout}>Logout</button> }\r\n            </ul>\r\n            {\r\n                showsArr.length ? \r\n                    showsArr.map(show => <Show show={show} />) :\r\n                    <h1>No Shows Yet ðŸ¥´</h1>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n// if (5<6 && Math.random() > 0.4) {\r\n    \r\n// }","import React, { useEffect, useState } from 'react'\r\n\r\nexport default function Profile() {\r\n\r\n    const [tickets, setTickets] = useState([])\r\n    const [updateCounter, setUpdateCounter] = useState(789)\r\n    \r\n    useEffect(()=>{\r\n        fetch(\"http://localhost:1000/users/profile\",{\r\n            credentials:\"include\"\r\n        })\r\n            .then(res=>res.json())\r\n            .then(data=>setTickets(data))\r\n    }, [updateCounter])\r\n\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                tickets.map(t=><div>\r\n                    <h1>{t.name}</h1>\r\n                    <h2>{t.artist}</h2>\r\n                    <button onClick={async ()=>{\r\n                         const res = await fetch(\"http://localhost:1000/shows/cancel/\"+t.id, {\r\n                            method: \"post\",\r\n                            credentials: \"include\"\r\n                        })\r\n                        \r\n                        const data = await res.json()\r\n                        console.log(data)\r\n                        setUpdateCounter(updateCounter+1)\r\n                    }}>X</button>\r\n                </div>)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nexport default function Register() {\r\n    const [username, setUsername] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n\r\n    const history = useHistory()\r\n\r\n    const register = async () => {\r\n        // fetch().then(res=>res.json()).then(data=>clg(data))\r\n        const res = await fetch(\"http://localhost:1000/users/register\", {\r\n            method: \"post\",\r\n            headers: { \"content-type\": \"application/json\" },\r\n            body: JSON.stringify({ username, password }),\r\n            credentials: \"include\"\r\n        })\r\n        const data = await res.json()\r\n        console.log(data)\r\n        if (!data.err) {\r\n            history.push(\"/login\")\r\n        } else {\r\n            alert(data.msg)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <input type=\"text\" placeholder=\"user name\" onChange={e => setUsername(e.target.value)} />\r\n            <input type=\"password\" placeholder=\"password\" onChange={e => setPassword(e.target.value)} />\r\n            <button onClick={register}>Register</button>\r\n            <NavLink to=\"/login\">Already have an account?</NavLink>\r\n            <NavLink to=\"/\">Or continue as a guest</NavLink>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\nimport { BrowserRouter, Route } from 'react-router-dom'\nimport Add from './components/Add'\nimport Login from './components/Login'\nimport Main from './components/Main'\nimport Profile from './components/Profile'\nimport Register from './components/Register'\n\nexport default function App() {\n  return (\n    <BrowserRouter>\n      <div>\n        <Route path=\"/\" exact component={Main} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/register\" component={Register} />\n        <Route path=\"/profile\" component={Profile} />\n        <Route path=\"/add\" component={Add} />\n      </div>\n    </BrowserRouter>\n  )\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}